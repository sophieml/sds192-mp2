---
title: "Mini-Project 2"
author: "Your Name Here"
date: "October 31, 2017"
output: html_document
---
A new edit
Edit number 2

## Loading the data

```{r, include=FALSE}
library(tidyverse)

load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
load("individuals.rda")

```

```{r}
contributions %>% 
  group_by(state) %>% 
  summarize(s = sum(transaction_amt))%>%
  arrange(desc(s))
```

```{r}
individuals %>% 
  filter(!is.na(occupation)) %>%
  group_by(occupation) %>% 
  summarize(num_occ = n()) %>% 
  filter(num_occ > 10000) %>% 
  mutate(occ_type = occupation) %>%
  mutate(occ_type = case_when(
    'RETIRED' = 'not working',
    'ATTORNEY' = 'law',
    'HOMEMAKER' = 'not working',
    'PHYSICIAN' = 'healthcare',
    'PRESIDENT' = 'executive',
    'CONSULTANT' = 'business',
    'OWNER' = 'business',
    'CEO' = 'executive',
    'PROFESSOR' = 'education',
    'PARTNER' = 'other',
    'LAWYER' = 'law',
    'MANAGER' = 'business',
    'NOT EMPLOYED' = 'not working',
    'FARMER' = 'agriculture',
    'VICE PRESIDENT' = 'executive',
    'REAL ESTATE' = 'real estate',
    'INVESTOR' = 'finance',
    'NONE' = 'not working',
    'SALES' = 'business',
    'BUSINESS OWNER' = 'business',
    'TEACHER' = 'education',
    'DIRECTOR' = 'executive',
    'SELF-EMPLOYED' = 'business',
    'CHAIRMAN' = 'executive',
    'WRITER' = 'other',
    'CPA' = 'finance',
    'BANKER' = 'finance',
    'DENTIST' = 'healthcare',
    'PRINCIPAL' = 'education',
    'REAL ESTATE BROKER' = 'real estate',
    'REALTOR' = 'real estate'
    
  ))
  arrange(desc(num_occ))
```
